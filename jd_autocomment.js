/**
自动评价
cron 30 20 * * * jd_autocomment.js
*/
const $ = new Env('自动评价');
var _0xodP='jsjiami.com.v6',_0xodP_=['‮_0xodP'],_0x615a=[_0xodP,'OFgbAAM=','QBEQBA==','LcOOwq9LUA==','w7JKwrHCmsOl','OW8EHTxXwoQ0ZMOpwp3DmDrDuA==','wqB9w7nCicOO','w4HDusOhwo95wq51wrPDjBvCvw3CiRrCssOzPsKiw6Q=','wq3DrRPDii3Dhn8=','w6rDgVvCgQ==','w4XDvSZ6Zw==','VBsfGcKWwp3CjSnDl8OVwpQWe1PDkQ==','wrLDqR3Dvz7Dkn8=','ZcO0BG/CmGA=','5b+H5aeE6I6g5YyX6K2c6Kyy5YeA5a2RY8Kgw7rlhILlp6XlgZbpiLTkurRawr9V','UsOFwqnCp8OuW8KTw6YXwp9BT8Oew6dO','w6HDqCxH','w53Cn8ObwqBiw5vCksO4w5nDuMO9wqFfS2o=','wpfDqcKIw74X','wrQ/wptIw4k=','RwEBHA==','UsOFwqnCp8OuW8KTw6YXwp9B','w5LDvMOvwpZpwrJkwq3Dgw/CtQ3CiRrCsg==','OcK8w6PDrQPCjMKjwoTDng==','BgxnJ09F','w7JmwofCusOcH04=','wp3CmTY=','BAbDtldCBw==','dMKVeFDDh8KZLg==','WcOMBcKnGcKu','TMKcH8Kaw4bCvDc=','fcOCAAHCqA==','w4bDhcOiwot/','wozCoMOdSsO7w7XDrA==','wo7CrMOOc8OIw5o=','wrLDqRvDti3Dgn8=','wqDDugQDw4ZPOw==','w6bDvsKncw==','A0fDg20=','acOpRVnDrw==','wp3CqsOAS8O/w7jDvQ3DnDXCtg==','UsOFwqnCp8OuW8KTw7wawpZcZg==','w68pw7DDn8Kmw5Joe8OPDFc=','NsOuwrNJZcOb','XcOrf8OAO3bDlcOjHcKCXg==','VsKdFsKa','wrvDsRcDw5JIO0I=','6K+C5LiH5YaN5a6F6KCN6Ly95rqv77245ZKp5p235YWm6ZWm6K2Vw7/jgrE=','RcOACzTCsg==','w4YMw7DDvMKU','F8OMAMO4Mg==','H1fDnmJIw4c=','w6Eowo4=','wqXDsRUCw4I=','RlVLcn8=','w6YAw5bDhMKE','w6HDqsKmfsKIwpY=','w5ovw4fChsKLwqfDg8KEw44GwqjCsg==','XsO9BiHCoA==','w7TClxnCm1/CtA==','YcKIEw==','w5XDu8Otwo95','w7zDqi1sRsOzfBbDhcKPfVPDhGA=','XcOlZsOIOXfDk8OTP8KNQsK5','w5/CrMOtwp5y','UcK/KcKpw5Y=','WxEcE8KHwps=','5YOY6Ym75Li677+b','WnDDucKRZQ==','w7FrwovCgMOUJUoBa8Khw4rCnsKteg==','w7LDklbCkBl5wrE=','XsOEFMKXAsKG','OcOqwqlLdsOcHjzDujY0VA==','wqTDssOLw6rCng==','wq5TAA==','5YKm6YmJ5Luv776N','AQtlH3g=','w57msIbmnqbojLXljIPlirPorZzkuKDlhYzlrpHDi+mFv+eWoeiHuOacjeiFqOW6jeiuiOS6k8KX6K2k6K6Q5YWy5ayp772B','Nx/DuE9q','PsK6w6/DmxLCrcK4wrfDlMOWwoHCvWwT','PH4IJz5rwoI=','I8K4w7XDoSvCvA==','5rG/5p6n5b216K2r5LqYZMKl','w4Ipw7/DvcK0','w6N4woDDh14=','RMKCC8KTw5fCkDDCiXTCv3cpw4HCumPDnMKJcRXDg8KIdX5Aw7nDvBgfwqrDtsO9BzU=','wrEnw4k=','QCI/NcK6','wrDDsBAW','wo9ewqTDnA4=','wrvDhcOCw5HChg==','w54zw7PDg8KZ','woPCgXwNwrYmwrxpXsOTwqzCgMKAwpIgZMORImVKwpVbf3XCjWoiwoQXE8OCEsKLwr1Zw4bCgsK+w7lTw7Vow7LDh8KyRBPCmTViwrJ9wrrDmWnCpcOSYgPCjxXDpyJpOsKNbEkOwqLChg==','woHDuCHDsSs=','Y8OvM3zCuQ==','w5LDtMO+wpF5','RFFsVGI=','MGMIJw==','aFgnwqDDsSpQw53CjsOVwpo8eMKiwpgyd8OP','w5pSwq/Dunomw4NFazg1wpYKXhpKBcO4','wrHDsBkCw4JCKmJjDMK+HUfDncOfw7bCr8OD','wrfDiMOCw6/CsMOtw6zChMK8S8KEw53DusKRbMOjw4IiMMO4w5he','B+Wskuagp++8mg==','OcOkwrBDdMOdGBbDgzwkRcKdGMO9w63DlmY=','MnkIKzhywpQYZsO0woTDqTHDtH0=','aFguwqg=','XcOrf8OAO3bDlcO5BsKHUsKoJ3TCsToEHg==','cMOKecOkLA==','6K+z6K+O772o','DVnDqcKxU8OQeFvDkVLDmsKOwo1FUmvDnEI=','MGMBLylMwpIkfsOnwpPDmCfDv0TDmMKFw5bCv18zwpk=','D+WuhOagnu+8pQ==','wp3CqsOAS8O/w7jDvRfDhzDCun82w5fDiTbCq24=','w64owoQ9wo9BYhwQCnPCvcKyW3fDvm0/BA==','PsOkwrNL','6K2p6K2M776i','wr3DuMOowpdtwpF4TSPDoDPCocK4w73CgcOeeCQ=','wprChjwowrImwrsXYcOgw7TClMOOw5BBJcOdIhxlwr0U','GOWstOahju+8kA==','GADDsg==','dgA4H8KU','wrFxM8KAWQ==','fsKqIBk+','cFfDusKUVA==','aMOkZ1rDkg==','w6bDvDZb','w7XDpMK5dsKkwpxEwpVdworDvQ==','TcOmNcO2Dg==','wofCs8OjwrdK','w5DDtMOiwoZzwq0=','w6zCnSTCiFnCtXgz','wqPCncOAwrJb','QMKeRz7CgMOC','RsKQei7CncOGw4fDlw==','RBgbF8KW','wo4jwrlfw7h3fBw=','wp1gwqPDqxo=','w6lpwo3Cu8OLPQ==','w6hkworCvMOB','XRTDvWjDuhU=','w6XCrVNZJyfCm0Y=','wrPDoALDuSk=','wrbCncOGwr5M','w4rChsOtwqZy','Q8OLwqrCrsOkWA==','YcOWcWfDrcKj','BwbDsmw=','wprDtsO0wqBH','w6Ylw7XDrcKzw4l+ccOOB1XCuMOMwpk=','wqpIE8KABMKow5bDncKQdgcEc1NXw4o+FMOhw4tBQHcSJsKf','wp/CtcOdSsOzw7XDqDDDmzzCtzUvw5fDrzY=','ZcKeWDbCgA==','wr9cWsKlw5U=','Z8KEHBoww5Z/','wrV9fMKLw68=','RsOERkXDlQ==','wq3Do8O3wpNmwphleC8=','WH0gwp7DuA==','woI4wqN8w7o=','dsKfe0g=','SMOWJxnChg==','RcOKAQ==','XsKQTh/CncOd','MmgjIR0=','ZMKUOgY9w5Q=','B8KKFcKXJcKGw4LDoMKqwoLCkS0=','wqnDvyXDtSjDhA==','w5DDqsOHQsOZw7nDpi/DmzbDt3A2','wrvClMOQwqI=','WMOrYMOoP3vDiQ==','wo7CsMOeTg==','wqdSEQ==','w4YCw4LDtsKGw75JdQ==','d8O7AA==','WMORKU7ClEbCmmQ=','wpwtwoZYw68=','dW/Dsw==','57yL5LqB6Lew54mH6L+I5Lu75r6s54KN77665rO+5oK05YiQ5bm55a+d55iw5p6O5YiR6L+Q5Lmy5aSe77y35ZSi5ZC26Lar6YeO5aWY6IOd5LiE5LyV5bqo772t5omy5aWz5oe06LGt5L+V5LuI44Oi','6L+n5ayy5bqF6L215aSj5ZC/776t5p+P5LiD6Lyj5YeR5q+s5LuS77yL5p+15Yu16IGj5a+T5oi36Z2W5biZ5ZKS5YiV77+o5Lus5ZOR6L2u5bi55p2i44KK','5Y2T5a6T55qi5pyy5Yqk5oGk5buk55275aeS77yE5Y+36LSn5byw5b6h44KK5Zei5ZGp6La86Yay5Liw55iH5b2B5LqU6ZeR44Gd5aeR5Za15q2G5LmP772h6LGn6LKe44O8','5YWt5Lqi5Yqk5Yaw5Lqk5Luh5py86K+y552m6K6g5Luj6Ly477+b5Lml5LiU552P6YGb5rSt6LWJ5Lml5ael5bGR5YmR44Ce5oiw5ZOe6K2g6K2u5LmK5LqT5pyTwqNgDeWno+S6k+WNteiuve++v+WfueacqeS5i+aYsOatjuWRjuium+mXtOS7puasteODiOWeuuS4l+S6mei0rOeKi+WmmuaVgeS/u+S5qO+8jOagg+adieWAi+S5jOS4suaeg+OAg+S6lemDquaXm+i2te+9g+i0g+S5p+aXpeeVi+WSgOaWhemlmOWGneaAiuWKgeearOWwvuaaqOS6uOS6iO+/kOWutOaZn+efi+avuueboOOAoOi3pOWLm+aJheW/qOaJq+W/meOAgueMmuWcgOaKs+S4u+aAuuS5q+++iOi/m+ecpeeanOW+nuWnueOClueMq+WfneaJquW8m+mhoue6ieaYpuWnnOeal+aKieaJteOApuaIlOS6keasiOS9r+WHiuaeheOCiuaJhOS4reeaoeWfk+i3i+eKieODvOWvueS4kueHhOaYteS5geS7j+mdheW7keWlseeYjOWutOi2peOCruecpOeakuW/juWnpOOCuOi9t+aYr+WAmeW9lOeZnuOAj+e/suS5g+S6teS7teass+S7luawmeeVieOAu+Wvj+i+k+aysOadieWtruiggeOCg+aJnuS7leatuOS6n+S6meS7reS6sOOAq+WmteWQiueJu+WAguW/ruS+sOi0iOOCkw==','5omL556U55mZ6Z2w5bip5ZSv5q2O5a+G77666ZyB5bm/5pSP5o+v5a+o77646Lar6YW/6Z2X5biC5aSe77y35ZOo5Y6h5ay15o+O6L+V55mV5Luz5qm65Lmh5qGW772v5omI6Z615bm35rmU5oWB44Oi5ou255yK55uA5bya5ZeA5q+j5a+w77205ay85a675YS66LWk5Yei5Lir6aC25pyX55mc5LiJ5YOW772L5LmM6LSr6YGQ5buN6ZyH5bi55b+n776i5Y+f6KKw6Z6q5bud5LqT57iD5ZGZ57Sc5YSe776k54u35rax5YWE5Y6/5p2j5Luv5LiU6Iq/5aeT55qd5p+G5Ymp5oCx5buk77265LiJ6LW46YCT5bmF6Z+25bm95b2r772U5oux6Z225bmy5rus5oWd6LWp54mB','6LSH6Ya66Z+N5bi05aeo77205LiZ5Y2D5a6H5oyi6L2O55uD5a6I5YWh5Lql6IeF77+A6Z+A5bis5rub5oet772b552nwpHnmLTlvbPll7/mroDvv5rlrpnlhKjotaTlhpvmnqnmn47lgJrvv6rljIPotJbpgbHluK3pnrzluanlvqbvvanljpt66KOS6Z+o5bup5Lu757u844CC5LuR5a6877yl54mw5rWw5YeC5Y+b5py35Yis5oOI5bmH5by25aWr77286L+o6YGJV+mCpuW4heW/l+W/lO+8uOW+lea7puaFg+eZjOS7ruasuui1v+i1p+mEueW+quWkte+/uuW7ueafkuaYluWnqOeZqWTmnrvljbzkvJbot4nvvKblu6fku5PmgYvlu4LniYblpr7vvrrmiJ3kvKnlhKfmrrblh6zpoovnmrjvvYTljKLku6zDr+WMo+S7geWFtuS+rOWuu+eBmu+8veaJoOW4vOaemeWOu+aereS9oOWukg==','6LyL5Lq15LqD5qGT5Lmq54Sa5b+W5Yij566B44Gt57iS5rS244C15LyR5ayK44KZ6Leh6YWj6Z6R5bqJ5aa3776j5Liu5Y2u5pWt5o626LyM55qp5ay25Ya05Lmq5qKO44OF6Z215bm25ri95oW477+m5a2Q5YSJ5YeA5Lmx5oay5pey77+w6Lea5YiI566W77+i5Yuq566X77+Q6LeE54i35q2f5a+K5L+K5bqT5L2F5a+n5ae05LqO772m6Z+y5bmn5ruh5oa857265Lif6LaM54i844GB5oqh5buY5p+I5Y6A5ayI55iD55as5oWw5L6e6LaT5pyo6Le957mf54Ck77+N54i/5raI5L2q6LWK5p606Lef5byO77+j5YyT6KGd5L2E6Le45p2F6LaA57md5a2F44Om5YaE5pqT6KCv5oq+77yZ5aW65Lu95pqJ5LqW5oGU5Lyr6au15YCn77yW54mV6LGU5Lin5Yes55uf5p2C5Y2b5L2U5b2x5b+c5Lq95Y2877646L+E5pu/6Iim5b2l55iI5o6x6Iyy44KB5a6f55yo55m65b+b5aSl772+6IO05Lmv5Luv5qOM5Lid5b+L6aiO772t5ouk5LuT5L2N5bC55pyS5Y6n5Li05Z6T6L+z6Ye75LmB44G357qe5Luf5LuH5aez6K+45bCb5rqt6Lam5LuC77+95ruN5oaH5Lua776P5rqb5oS55Lqv','6K6s5oi05LuK5YW36K+x6K6R5ZSE5ZKl55ir6LSg6Yep77ya5Lif5ZKL5oKz5L+35Lqi5pq75aSA55ur77+z5YyX6KGc5b2A57W444O56K6A5om15Lil5pyI6LGN6LK05Za45a6k5p225YiF77+45ZSM5q+Q5a6844Ot5p+25ZGi776t5b246YGr77yE5byq6YO06Z6Q5bmZ5by644GB5q2856mm772G5bqD5Luh5ZaG5ZGt5pqp55y/5ayY44G55ouP5bqa5p+s5ZW35bq86IKw5o+q5L6Z5pqx5aWa55qE5ouV5ou+77665Y2s5pet6YKz556B6IO85a2O5oqD772v5bmI5L2e6Ly/5ZiT6LaJ44GF56WQ5L6g55eV5oaY5YSG6Zi544Cu','w51NwqU=','w5g4w5rChQ==','JBZwNFo=','w4HCuADCjkc=','wqnDq8KSw7YJ','HsOMeSnDtcOHw43DuMOZ','5YWJ5Y6x5LqACMK0wrg=','YcKCGg4tw5k=','w79pwojDomc=','wqfDicOveVU=','w4nCssO6wpZ8','w7HDkAtQYA==','wpdjw4nCjcOp','w5PDg8OIwql2','w6PCtktXEA==','J8Kpw6vDrRY=','WMKUERsXw5B8w78=','RMOEEsKRIw==','w7vDqDFQXg==','wpzCocO+McOrw5ga5b+R5ae344Ou5Liw5LqA6LWK5Y+d','w5g0wowiwqROezM=','YlkuwqjDrA==','w7XChkJvPg==','wqnDog/DvzTDrnw=','w4cAw43Dm8KM','w4lUwqHDgk0E','IWkcLi1BwoM=','I2UPFx5u','bEtCWn0qJA==','wonCoMOPVg==','w6jCmxTCqXnCkA==','EsOHA8OwMjrCgg==','w55kwozDtEk=','wppnw77CpcOnw4/DvQ==','w6jCtgbCnUI=','w6t9wpDCtw==','w7rDpMKz','wo0twoNf','wo1twr7Dqxc=','wqtgcA==','fMO0G28=','EgbDu2N8J8ON','wrrDgcKew4o=','w7bCp3RuOiPCmETDnhvDm8KjwrBNcx7CocOe','njsQHjDiamfeziz.rckohYmQxx.v6=='];if(function(_0xf3352d,_0x4b1c75,_0x441b45){function _0x3990f2(_0x1d30ff,_0x7baff2,_0x558349,_0x586894,_0x1c8b84,_0x5e9ac8){_0x7baff2=_0x7baff2>>0x8,_0x1c8b84='po';var _0xc50c88='shift',_0x5cee34='push',_0x5e9ac8='‮';if(_0x7baff2<_0x1d30ff){while(--_0x1d30ff){_0x586894=_0xf3352d[_0xc50c88]();if(_0x7baff2===_0x1d30ff&&_0x5e9ac8==='‮'&&_0x5e9ac8['length']===0x1){_0x7baff2=_0x586894,_0x558349=_0xf3352d[_0x1c8b84+'p']();}else if(_0x7baff2&&_0x558349['replace'](/[nQHDfezzrkhYQxx=]/g,'')===_0x7baff2){_0xf3352d[_0x5cee34](_0x586894);}}_0xf3352d[_0x5cee34](_0xf3352d[_0xc50c88]());}return 0x10a006;};return _0x3990f2(++_0x4b1c75,_0x441b45)>>_0x4b1c75^_0x441b45;}(_0x615a,0x187,0x18700),_0x615a){_0xodP_=_0x615a['length']^0x187;};function _0x50ee(_0x9e250a,_0x286e47){_0x9e250a=~~'0x'['concat'](_0x9e250a['slice'](0x1));var _0x52c068=_0x615a[_0x9e250a];if(_0x50ee['SPDuEB']===undefined){(function(){var _0x531b01=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x30b0e1='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x531b01['atob']||(_0x531b01['atob']=function(_0x14dfb7){var _0x34aeb8=String(_0x14dfb7)['replace'](/=+$/,'');for(var _0x445403=0x0,_0x393000,_0x3318ee,_0x48bfb7=0x0,_0x3cd957='';_0x3318ee=_0x34aeb8['charAt'](_0x48bfb7++);~_0x3318ee&&(_0x393000=_0x445403%0x4?_0x393000*0x40+_0x3318ee:_0x3318ee,_0x445403++%0x4)?_0x3cd957+=String['fromCharCode'](0xff&_0x393000>>(-0x2*_0x445403&0x6)):0x0){_0x3318ee=_0x30b0e1['indexOf'](_0x3318ee);}return _0x3cd957;});}());function _0x147390(_0x3baabb,_0x286e47){var _0x3ba612=[],_0x287adb=0x0,_0xcbce84,_0x36d8ee='',_0x3fdc33='';_0x3baabb=atob(_0x3baabb);for(var _0x2f74e3=0x0,_0x38e3ce=_0x3baabb['length'];_0x2f74e3<_0x38e3ce;_0x2f74e3++){_0x3fdc33+='%'+('00'+_0x3baabb['charCodeAt'](_0x2f74e3)['toString'](0x10))['slice'](-0x2);}_0x3baabb=decodeURIComponent(_0x3fdc33);for(var _0x4498e3=0x0;_0x4498e3<0x100;_0x4498e3++){_0x3ba612[_0x4498e3]=_0x4498e3;}for(_0x4498e3=0x0;_0x4498e3<0x100;_0x4498e3++){_0x287adb=(_0x287adb+_0x3ba612[_0x4498e3]+_0x286e47['charCodeAt'](_0x4498e3%_0x286e47['length']))%0x100;_0xcbce84=_0x3ba612[_0x4498e3];_0x3ba612[_0x4498e3]=_0x3ba612[_0x287adb];_0x3ba612[_0x287adb]=_0xcbce84;}_0x4498e3=0x0;_0x287adb=0x0;for(var _0x14a27a=0x0;_0x14a27a<_0x3baabb['length'];_0x14a27a++){_0x4498e3=(_0x4498e3+0x1)%0x100;_0x287adb=(_0x287adb+_0x3ba612[_0x4498e3])%0x100;_0xcbce84=_0x3ba612[_0x4498e3];_0x3ba612[_0x4498e3]=_0x3ba612[_0x287adb];_0x3ba612[_0x287adb]=_0xcbce84;_0x36d8ee+=String['fromCharCode'](_0x3baabb['charCodeAt'](_0x14a27a)^_0x3ba612[(_0x3ba612[_0x4498e3]+_0x3ba612[_0x287adb])%0x100]);}return _0x36d8ee;}_0x50ee['BvdOSA']=_0x147390;_0x50ee['xWpIdV']={};_0x50ee['SPDuEB']=!![];}var _0x7130cb=_0x50ee['xWpIdV'][_0x9e250a];if(_0x7130cb===undefined){if(_0x50ee['JWBcUe']===undefined){_0x50ee['JWBcUe']=!![];}_0x52c068=_0x50ee['BvdOSA'](_0x52c068,_0x286e47);_0x50ee['xWpIdV'][_0x9e250a]=_0x52c068;}else{_0x52c068=_0x7130cb;}return _0x52c068;};const notify=$[_0x50ee('‮0','L0[2')]()?require(_0x50ee('‫1','YMJZ')):'';const jdCookieNode=$[_0x50ee('‫2','6lg^')]()?require(_0x50ee('‮3','OU]&')):'';let cookiesArr=[],cookie='';Object[_0x50ee('‮4','%euk')](jdCookieNode)[_0x50ee('‮5','X^@8')](_0xde758f=>{cookiesArr[_0x50ee('‫6','OU]&')](jdCookieNode[_0xde758f]);});if(process[_0x50ee('‫7','s]Gr')][_0x50ee('‮8','8%3i')]&&process[_0x50ee('‮9','1Mx*')][_0x50ee('‮a','1Mx*')]===_0x50ee('‮b','D6^L'))console[_0x50ee('‫c','m7&M')]=()=>{};let userKeyWords=[];let wordcount=0x6;let defKeyWords=['很垃圾','质量差','此用户未填写评价内容'];let defcommentlist=[_0x50ee('‫d','Ksob'),'质量非常好，真出乎我的意料，包装非常仔细，非常感谢，祝生意兴隆。',_0x50ee('‫e','X^@8'),_0x50ee('‫f','mUn%'),_0x50ee('‫10','^^d0'),_0x50ee('‫11','Ksob'),_0x50ee('‮12','r9Pl'),'东西收到，很满意！！京东平台真的是超级好的卖家，解答疑问不厌其烦，细致认真，关键是东西好，而且货物发得超快，包装仔细，值得信赖！',_0x50ee('‫13','S@tS'),_0x50ee('‫14','mUn%')];!(async()=>{var _0x425cdc={'gYNcV':function(_0x225216,_0x287979){return _0x225216!==_0x287979;},'KFPiO':_0x50ee('‫15','a#kB'),'pDqai':_0x50ee('‮16','1xc3'),'AlfGO':function(_0x1a2dd6,_0x4a757d){return _0x1a2dd6||_0x4a757d;},'FTJux':function(_0x55fe4c,_0x1c219f){return _0x55fe4c===_0x1c219f;},'VoTTy':_0x50ee('‫17','!hVv'),'dDBBk':function(_0x4197b8){return _0x4197b8();},'djSMv':_0x50ee('‮18','6c8^'),'qVDKj':_0x50ee('‮19','w[1n'),'rtKzE':_0x50ee('‮1a','68Uw'),'oHUQZ':function(_0x3fdf15,_0x51b39a){return _0x3fdf15+_0x51b39a;},'DHXfn':_0x50ee('‫1b','OU]&')};for(let _0x3d7f2d=0x0;_0x3d7f2d<cookiesArr[_0x50ee('‫1c','L0[2')];_0x3d7f2d++){if(_0x425cdc[_0x50ee('‫1d','a#kB')](_0x425cdc['VoTTy'],_0x425cdc[_0x50ee('‫1e','nvko')])){UA='jdapp;iPhone;10.0.8;14.6;'+_0x425cdc[_0x50ee('‫1f','OocA')](uuidRandom)+';network/wifi;JDEbook/openapp.jdreader;model/iPhone9,2;addressid/2214222493;appBuild/168841;jdSupportDarkMode/0;Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2014_6\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Mobile/16E158;supportJDSHWK/1';if(cookiesArr[_0x3d7f2d]){if(_0x425cdc[_0x50ee('‮20','9MxI')](_0x425cdc[_0x50ee('‫21','d4Hd')],_0x425cdc[_0x50ee('‮22','9qj7')])){var _0x341cd4=_0x425cdc[_0x50ee('‮23','RQpP')][_0x50ee('‮24','096d')]('|'),_0x42c9be=0x0;while(!![]){switch(_0x341cd4[_0x42c9be++]){case'0':$[_0x50ee('‫25','L0[2')]=decodeURIComponent(cookie[_0x50ee('‮26','YMJZ')](/pt_pin=([^; ]+)(?=;?)/)&&cookie[_0x50ee('‮27','9MxI')](/pt_pin=([^; ]+)(?=;?)/)[0x1]);continue;case'1':console['log'](_0x50ee('‫28','Y)fm')+$['index']+'】'+($['nickName']||$[_0x50ee('‮29','^^d0')])+'*********\x0a');continue;case'2':$[_0x50ee('‫2a','scC!')]=_0x425cdc['oHUQZ'](_0x3d7f2d,0x1);continue;case'3':cookie=cookiesArr[_0x3d7f2d];continue;case'4':try{await _0x425cdc[_0x50ee('‮2b','RQpP')](main);}catch(_0x2151d5){console['log'](_0x2151d5);}continue;}break;}}else{if(_0x425cdc['gYNcV'](t['picURL'][_0x50ee('‫2c','6lg^')](_0x425cdc[_0x50ee('‮2d','8%3i')]),-0x1)){picURL=t[_0x50ee('‫2e','a#kB')][_0x50ee('‮2f','$TXn')](/s[0-9]{3}x[0-9]{3}_(.*).dpg/g,'$1');}else if(t[_0x50ee('‫30','$TXn')][_0x50ee('‫31','mUn%')](_0x50ee('‫32','OU]&'))!==-0x1){picURL=t[_0x50ee('‫33','6c8^')][_0x50ee('‫34','r@jw')](/s[0-9]{3}x[0-9]{3}_(.*).webp/g,'$1');}else if(_0x425cdc[_0x50ee('‮35','a#kB')](t['picURL'][_0x50ee('‮36','d4Hd')](_0x425cdc[_0x50ee('‮37','6c8^')]),-0x1)){picURL=t['picURL']['replace'](/s[0-9]{3}x[0-9]{3}_(.*).avif/g,'$1');}picURLInfoList[_0x50ee('‮38','bI@9')](picURL);}}console[_0x50ee('‫39','Y)fm')](_0x425cdc['DHXfn']);await $[_0x50ee('‫3a','D6^L')](0x2710);}else{resolve(_0x425cdc['AlfGO'](data,''));}}})()[_0x50ee('‮3b','cWjJ')](_0x480d4e=>{$[_0x50ee('‮3c','dsac')]('','❌\x20'+$[_0x50ee('‫3d','1Mx*')]+',\x20失败!\x20原因:\x20'+_0x480d4e+'!','');})[_0x50ee('‫3e','6YI8')](()=>{$[_0x50ee('‫3f','w[1n')]();});async function main(){var _0x11f256={'xtgBO':function(_0x412baa,_0x47868b,_0x4f7703){return _0x412baa(_0x47868b,_0x4f7703);},'StcIQ':_0x50ee('‫40','RQpP'),'CpmMz':function(_0x1186b7,_0x536075,_0xebae27){return _0x1186b7(_0x536075,_0xebae27);},'IGxQx':function(_0x17f85e,_0x48bc19){return _0x17f85e!==_0x48bc19;},'NsqcC':_0x50ee('‮41','$TXn'),'dZZYv':function(_0x40a6e6,_0x354091){return _0x40a6e6===_0x354091;},'rAcXv':'oEUSX','KoSFw':function(_0x1d2289,_0x315b8a){return _0x1d2289!=_0x315b8a;},'HkJul':_0x50ee('‮42','xim%'),'PrITo':function(_0x2c8b44,_0xd3661a){return _0x2c8b44!==_0xd3661a;},'NekZE':_0x50ee('‮43','Ksob'),'dPnic':_0x50ee('‫44','bI@9'),'lxaPW':'avif','XsBYb':function(_0x4f7989,_0x3ec88){return _0x4f7989>_0x3ec88;},'hpBau':function(_0x23ce2d,_0x469d2c){return _0x23ce2d(_0x469d2c);},'JJmNW':function(_0x17bca0,_0x5398b1){return _0x17bca0(_0x5398b1);},'wnsda':function(_0x2483da,_0x2477a7){return _0x2483da>=_0x2477a7;},'jFKvG':_0x50ee('‫45','$TXn'),'DiQaY':function(_0x50f721,_0xe091ef){return _0x50f721>=_0xe091ef;},'sMOtg':function(_0x255abe,_0x539b8f){return _0x255abe<_0x539b8f;},'rZUJe':function(_0xd7a8f0,_0x118609){return _0xd7a8f0<_0x118609;},'tMRVh':function(_0x5f3181,_0x3b0094){return _0x5f3181>=_0x3b0094;},'pUdhK':function(_0x24748a,_0x5289b1){return _0x24748a<=_0x5289b1;}};let _0x49b07b=[];let _0x1d723c=[];let _0x1fc884=[];let _0x2f8013='1';let _0x492390=await _0x11f256['xtgBO'](task,_0x11f256[_0x50ee('‫46','d4Hd')],{'status':'1','planType':'1','pageIndex':_0x2f8013,'pageSize':'10'});_0x2f8013=_0x492390[_0x50ee('‫47','9qj7')][_0x50ee('‫48','6lg^')];await $[_0x50ee('‫49','@&@h')](0x3e8);_0x492390=await _0x11f256['CpmMz'](task,_0x11f256[_0x50ee('‮4a','9MxI')],{'status':'1','planType':'1','pageIndex':_0x2f8013,'pageSize':'10'});let _0x1123b5=_0x492390[_0x50ee('‫47','9qj7')][_0x50ee('‮4b','xim%')][_0x50ee('‮4c','6lg^')]()[0x0];if(_0x1123b5){let _0x452122=await task('getCommentListWithCard',{'sortType':'5','isCurrentSku':![],'sku':_0x1123b5[_0x50ee('‫4d','1Mx*')],'pictureCommentType':'A','shieldCurrentComment':'1','shopType':'0','type':'4','shadowMainSku':'0','offset':'1','num':'10'});console['log'](_0x50ee('‮4e','dsac'));let _0x1d6767=_0x452122[_0x50ee('‫4f','%L&Q')];await $[_0x50ee('‫50','9MxI')](0x3e8);for(const _0x16a306 of _0x1d6767){if(_0x16a306['commentInfo'][_0x50ee('‫51','OocA')]){if(_0x11f256[_0x50ee('‫52','w[1n')](_0x11f256['NsqcC'],_0x11f256[_0x50ee('‫53','D6^L')])){_0x1fc884[_0x50ee('‫54','xim%')](e);}else{for(const _0x35b3b9 of _0x16a306[_0x50ee('‫55','%L&Q')][_0x50ee('‫56','9qj7')]||{}){if(_0x11f256['dZZYv'](_0x11f256['rAcXv'],_0x11f256['rAcXv'])){if(_0x11f256['KoSFw'](_0x35b3b9[_0x50ee('‮57','096d')],'2')){if(_0x35b3b9[_0x50ee('‮58','!hVv')][_0x50ee('‮59','bI@9')](_0x50ee('‮5a','j[%9'))!==-0x1){picURL=_0x35b3b9[_0x50ee('‫5b','6YI8')][_0x50ee('‮5c','5hwd')](/s[0-9]{3}x[0-9]{3}_(.*).dpg/g,'$1');}else if(_0x35b3b9[_0x50ee('‫5d','YMJZ')][_0x50ee('‮5e','[B($')](_0x11f256['HkJul'])!==-0x1){if(_0x11f256[_0x50ee('‫5f','68Uw')](_0x11f256['NekZE'],_0x11f256[_0x50ee('‮60','9qj7')])){picURL=_0x35b3b9['picURL'][_0x50ee('‫61','OU]&')](/s[0-9]{3}x[0-9]{3}_(.*).webp/g,'$1');}else{picURL=_0x35b3b9[_0x50ee('‮62','OU]&')][_0x50ee('‫63','6lg^')](/s[0-9]{3}x[0-9]{3}_(.*).webp/g,'$1');}}else if(_0x11f256['PrITo'](_0x35b3b9[_0x50ee('‫2e','a#kB')]['indexOf'](_0x11f256['lxaPW']),-0x1)){picURL=_0x35b3b9['picURL'][_0x50ee('‮64','S@tS')](/s[0-9]{3}x[0-9]{3}_(.*).avif/g,'$1');}_0x49b07b[_0x50ee('‮65','Y)fm')](picURL);};}else{cookiesArr[_0x50ee('‫66','p92a')](jdCookieNode[item]);}};}};if(_0x11f256[_0x50ee('‫67','W9B9')](_0x16a306[_0x50ee('‫68','OU]&')][_0x50ee('‫69','%L&Q')],'5')&&_0x11f256['XsBYb'](_0x16a306[_0x50ee('‫6a','8%3i')]['commentData'][_0x50ee('‫6b','Ksob')],wordcount)){_0x1d723c[_0x50ee('‫66','p92a')](_0x16a306[_0x50ee('‮6c','X^@8')]['commentData']);};};nullKeyword='';for(let _0x452122 of defKeyWords)userKeyWords['push'](_0x452122);for(let _0x5e3823 of _0x1d723c){if(userKeyWords[_0x50ee('‮6d','[B($')](_0x3cb62a=>_0x5e3823[_0x50ee('‮6e','S@tS')](_0x3cb62a)?nullKeyword=_0x3cb62a:'')){console['log'](_0x50ee('‮6f','5hwd')+nullKeyword+'】');}else{_0x1fc884['push'](_0x5e3823);};};let _0x1e25a0=_0x11f256[_0x50ee('‮70','68Uw')](random,_0x1fc884);let _0x38dce5=[{'picUrl':_0x49b07b[0x0]},{'picUrl':_0x49b07b[0x1]}];let _0x332fec=_0x11f256[_0x50ee('‮71','8%3i')](random,defcommentlist);if(_0x11f256[_0x50ee('‫72','r@jw')](_0x49b07b['length'],0x2)&&_0x1fc884[_0x50ee('‫73','p92a')]>=0x2){console[_0x50ee('‮74','^^d0')]('借鉴中：'+_0x1123b5[_0x50ee('‫75','S@tS')]+'\x0a成功获取到图片，去带图评价!\x0a评论内容：'+_0x1e25a0+'\x0a');await _0x11f256[_0x50ee('‮76','mUn%')](task,_0x11f256[_0x50ee('‫77','8%3i')],{'isCommentTagContent':'1','orderId':_0x1123b5['orderId'],'anonymousFlag':'0','productId':_0x1123b5[_0x50ee('‫78','Y)fm')],'isServicePlus':'0','commentData':_0x1e25a0,'commentScore':'5','addPictureFlag':'0','voucherStatus':'0','pictureInfoList':_0x38dce5,'categoryList':_0x1123b5[_0x50ee('‮79','1xc3')]});}else if(_0x11f256['DiQaY'](_0x49b07b[_0x50ee('‫6b','Ksob')],0x2)&&_0x11f256[_0x50ee('‫7a','68Uw')](_0x1fc884[_0x50ee('‫7b','6c8^')],0x2)){console[_0x50ee('‮7c','L0[2')]('借鉴中：'+_0x1123b5[_0x50ee('‮7d','9qj7')]+'\x0a成功获取到图片，且没有获取到评价内容，采用脚本自带评价，去带图评价!\x0a评论内容：'+_0x332fec+'\x0a');await _0x11f256['CpmMz'](task,_0x50ee('‫7e','9MxI'),{'isCommentTagContent':'1','orderId':_0x1123b5['orderId'],'anonymousFlag':'0','productId':_0x1123b5['wareId'],'isServicePlus':'0','commentData':_0x332fec,'commentScore':'5','addPictureFlag':'0','voucherStatus':'0','pictureInfoList':_0x38dce5,'categoryList':_0x1123b5[_0x50ee('‫7f','X^@8')]});}else if(_0x11f256[_0x50ee('‫80','OocA')](_0x49b07b['length'],0x2)&&_0x11f256[_0x50ee('‫81','[B($')](_0x1fc884[_0x50ee('‮82','xim%')],0x2)){console['log'](_0x50ee('‮83','dsac')+_0x1123b5['wname']+'\x0a没有获取到图片，且获取到评价，去评价!\x0a评论内容：'+_0x1e25a0+'\x0a');await _0x11f256[_0x50ee('‫84','m7&M')](task,_0x50ee('‫85','bI@9'),{'isCommentTagContent':'1','orderId':_0x1123b5[_0x50ee('‮86','@&@h')],'anonymousFlag':'0','productId':_0x1123b5[_0x50ee('‫87','YMJZ')],'isServicePlus':'0','commentData':_0x1e25a0,'commentScore':'5','addPictureFlag':'0','voucherStatus':'0','pictureInfoList':'','categoryList':_0x1123b5[_0x50ee('‫88','Ksob')]});}else if(_0x11f256[_0x50ee('‫89','@6[T')](_0x1d6767[_0x50ee('‮82','xim%')],0x1)){console[_0x50ee('‫8a','s]Gr')](_0x50ee('‫8b','a#kB')+_0x1123b5[_0x50ee('‫8c','!hVv')]+_0x50ee('‫8d','@6[T')+_0x332fec+'\x0a');await _0x11f256[_0x50ee('‫8e','6YI8')](task,_0x50ee('‮8f','096d'),{'isCommentTagContent':'1','orderId':_0x1123b5[_0x50ee('‫90','$TXn')],'anonymousFlag':'0','productId':_0x1123b5[_0x50ee('‮91','096d')],'isServicePlus':'0','commentData':_0x332fec,'commentScore':'5','addPictureFlag':'0','voucherStatus':'0','pictureInfoList':'','categoryList':_0x1123b5[_0x50ee('‫7f','X^@8')]});};}else{console['log'](_0x50ee('‮92','w[1n'));}}async function task(_0x505a3d,_0x31c032){var _0xcfb4aa={'AtJkg':function(_0x259a71,_0x4ec3c5){return _0x259a71===_0x4ec3c5;},'qzEvh':_0x50ee('‫93','8%3i'),'odNwS':function(_0x3c8b4e,_0x5aa7d0){return _0x3c8b4e!==_0x5aa7d0;},'sMTpg':_0x50ee('‫94','a#kB'),'iWnHK':function(_0x62872c,_0x571a08){return _0x62872c(_0x571a08);},'eWxZK':function(_0x4f09a1,_0x1af00f){return _0x4f09a1||_0x1af00f;},'wVMAI':function(_0x301568,_0x5d60e0,_0x57cb8f){return _0x301568(_0x5d60e0,_0x57cb8f);},'aRnTq':'api.m.jd.com','obmSS':_0x50ee('‮95','[B($'),'RunqZ':_0x50ee('‫96','bI@9')};return s=await _0xcfb4aa[_0x50ee('‫97','xim%')](getSign,_0x505a3d,_0x31c032),opt={'url':'https://api.m.jd.com/client.action?functionId='+_0x505a3d,'body':s[_0x50ee('‮98','S@tS')],'headers':{'Host':_0xcfb4aa[_0x50ee('‫99','cWjJ')],'content-type':_0xcfb4aa[_0x50ee('‮9a','@6[T')],'accept':_0xcfb4aa[_0x50ee('‮9b','8%3i')],'user-agent':UA,'accept-language':_0x50ee('‮9c','j[%9'),'Cookie':cookie}},new Promise(_0xae776=>{$['post'](opt,(_0x226faf,_0x1d8767,_0x1ad207)=>{try{if(_0xcfb4aa[_0x50ee('‮9d','6lg^')]('NobOw',_0xcfb4aa[_0x50ee('‮9e','1Mx*')])){_0x226faf?console['log'](_0x226faf):_0x1ad207=JSON[_0x50ee('‮9f','9qj7')](_0x1ad207);if(_0x1ad207&&_0xcfb4aa[_0x50ee('‫a0','mUn%')](_0x1ad207[_0x50ee('‫a1','$TXn')],'0')&&_0x1ad207[_0x50ee('‮a2','scC!')]&&_0x1ad207[_0x50ee('‮a3','a#kB')]['auditPromptText']){console['log']('评论：'+_0x1ad207[_0x50ee('‫a4','S@tS')][_0x50ee('‫a5','@6[T')]+_0x50ee('‫a6','W9B9')+_0x1ad207[_0x50ee('‫a7','Ksob')][_0x50ee('‮a8','$TXn')]);}else if(_0x1ad207&&_0x1ad207[_0x50ee('‮a9','scC!')]==='0'&&_0x1ad207[_0x50ee('‫aa','X^@8')]){if(_0xcfb4aa['odNwS']('VcuTl',_0x50ee('‮ab','X^@8'))){console[_0x50ee('‮7c','L0[2')](_0x50ee('‮ac','xim%')+_0x1ad207[_0x50ee('‫ad','8fq1')][_0x50ee('‫ae','$TXn')]+_0x50ee('‮af','mUn%')+_0x1ad207[_0x50ee('‮b0','OU]&')][_0x50ee('‮b1','^^d0')]);}else{$[_0x50ee('‮b2','Ksob')]();}}}else{console['log'](_0x50ee('‫b3','OocA')+_0x1ad207[_0x50ee('‮b4','tcD3')][_0x50ee('‮b5','j[%9')]+_0x50ee('‫b6','1Mx*')+_0x1ad207['commentSuccessInfo']['commentJingBeanText']);}}catch(_0xcdccfd){console[_0x50ee('‫b7','6YI8')](_0xcdccfd);}finally{if(_0xcfb4aa[_0x50ee('‫b8','xim%')](_0xcfb4aa[_0x50ee('‮b9','s]Gr')],_0xcfb4aa[_0x50ee('‫ba','L0[2')])){_0xcfb4aa[_0x50ee('‮bb','m7&M')](_0xae776,_0xcfb4aa[_0x50ee('‫bc','W9B9')](_0x1ad207,''));}else{defcommentInfolist[_0x50ee('‮bd','9MxI')](vo['commentInfo'][_0x50ee('‮be','Y)fm')]);}}});});}function uuidRandom(){var _0x2539d8={'WBJft':function(_0x2b9e77,_0xdc5a8b){return _0x2b9e77+_0xdc5a8b;},'NmDca':function(_0x4d8c86,_0x4b7877){return _0x4d8c86+_0x4b7877;},'zOTCi':function(_0x4184f0,_0x5d63c9){return _0x4184f0+_0x5d63c9;}};return _0x2539d8[_0x50ee('‮bf','BDYR')](_0x2539d8[_0x50ee('‮c0','%euk')](_0x2539d8['NmDca'](_0x2539d8['zOTCi'](Math[_0x50ee('‫c1','9qj7')]()[_0x50ee('‮c2','6c8^')](0x10)[_0x50ee('‮c3','%euk')](0x2,0xa),Math[_0x50ee('‮c4','Q0v!')]()[_0x50ee('‫c5','Q0v!')](0x10)[_0x50ee('‫c6','xim%')](0x2,0xa)),Math['random']()[_0x50ee('‫c7','D6^L')](0x10)[_0x50ee('‫c8','cWjJ')](0x2,0xa)),Math[_0x50ee('‫c9','bI@9')]()['toString'](0x10)[_0x50ee('‫ca','bI@9')](0x2,0xa)),Math[_0x50ee('‮cb','r9Pl')]()[_0x50ee('‫cc','RQpP')](0x10)[_0x50ee('‮cd','6lg^')](0x2,0xa));}function random(_0xe460be){var _0x1691e0={'gpUre':function(_0x1751d9,_0x3a0f16){return _0x1751d9*_0x3a0f16;}};return _0xe460be[Math[_0x50ee('‮ce','%euk')](_0x1691e0[_0x50ee('‫cf','OocA')](Math[_0x50ee('‫d0','%L&Q')](),_0xe460be[_0x50ee('‫d1','W9B9')]))];}function getSign(_0x568fed,_0x5d8a1b,_0x23da94=_0x50ee('‮d2','6YI8')){var _0x1e2015={'xtIWp':function(_0x7ce5f9,_0x511f61){return _0x7ce5f9(_0x511f61);},'jMEtG':_0x50ee('‫d3','tcD3'),'Waqlo':function(_0x2abd53,_0x3cd75a){return _0x2abd53===_0x3cd75a;},'xSMdM':_0x50ee('‮d4','8%3i'),'rrkJw':function(_0x459910,_0x588712){return _0x459910+_0x588712;},'KwYEL':_0x50ee('‫d5','s]Gr'),'SJjSl':_0x50ee('‫d6','OU]&')};_0x1e2015[_0x50ee('‫d7','Q0v!')](_0x1e2015[_0x50ee('‫d8','dsac')],_0x568fed)&&(_0x23da94=_0x50ee('‮d9','L0[2'));let _0x5eaeb3={'url':_0x1e2015[_0x50ee('‮da','dsac')](_0x1e2015[_0x50ee('‮db','W9B9')],_0x23da94),'body':JSON[_0x50ee('‮dc','tcD3')]({'fn':_0x568fed,'body':_0x5d8a1b}),'headers':{'Content-Type':_0x1e2015[_0x50ee('‮dd','scC!')]}};return new Promise(_0x568fed=>{var _0x4afa62={'aQglu':function(_0x4b8958,_0x30b052){return _0x1e2015[_0x50ee('‫de','D6^L')](_0x4b8958,_0x30b052);},'adOcQ':function(_0x2658ba,_0x57702c){return _0x2658ba||_0x57702c;},'efnLA':_0x1e2015['jMEtG']};$[_0x50ee('‮df','5hwd')](_0x5eaeb3,async(_0x5d8a1b,_0x23da94,_0x5eaeb3)=>{try{if(_0x4afa62[_0x50ee('‮e0','68Uw')]==='TQbJO'){_0x4afa62['aQglu'](_0x568fed,_0x4afa62['adOcQ'](_0x5eaeb3,''));}else{_0x5d8a1b?console[_0x50ee('‮e1','YMJZ')](_0x5d8a1b):_0x5eaeb3=JSON['parse'](_0x5eaeb3);}}catch(_0x460bb8){$[_0x50ee('‫e2','Q0v!')](_0x460bb8,_0x23da94);}finally{_0x568fed(_0x4afa62[_0x50ee('‫e3','$TXn')](_0x5eaeb3,''));}});});};_0xodP='jsjiami.com.v6';
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }