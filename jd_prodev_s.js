/*
30 0,20 * * * jd_prodev_s.js
*/
const $ = new Env('邀请好友入会赢好礼');

var _0xodH='jsjiami.com.v6',_0xodH_=['‮_0xodH'],_0x550c=[_0xodH,'LCDlpLHotKUhIOWOn+WboDog','ZmluYWxseQ==','ZG9uZQ==','bWVtYmVyQnJpbmdBY3RQYWdl','WHpXTFA=','VHpwUlM=','YVlzU2g=','c3RyaW5naWZ5','Jmludml0ZVBpbj0mX3Q9','bm93','Z2V0QWN0aXZpdHlQYWdl','aHdRcGo=','YWN0aXZpdHlTdGF0dXM=','bWVtYmVyQnJpbmdKb2luTWVtYmVy','RFlyWFA=','Jmludml0ZVBpbj0=','WFVKeHM=','55m75b2V5oiQ5Yqf','SWlrc2c=','Ki8q','Z3ppcCwgZGVmbGF0ZSwgYnI=','a2VlcC1hbGl2ZQ==','cGxvZ2luLm0uamQuY29t','aHR0cHM6Ly9wcm9kZXYubS5qZC5jb20v','ZFd3eG4=','R2hGbEc=','Z3N4c3U=','UnVCV0o=','ZlRleGM=','bUZSYkI=','SGRDbmI=','T2d0YXo=','bVl0WmM=','UkhQekg=','T1BvZG0=','aHR0cHM6Ly9wbG9naW4ubS5qZC5jb20vY2dpLWJpbi9tbC9pc2xvZ2luP3RpbWU9','JmNhbGxiYWNrPV9fanNvbnA=','bUdJV0E=','Jl89','d29RS00=','c1d1Y00=','UW5adFk=','emgtQ04semgtSGFucztxPTAuOQ==','bW1sZno=','dWRWTGY=','dHR0cU0=','amRhcHA7aVBob25lOzkuNS40OzEzLjY7','O25ldHdvcmsvd2lmaTtBRElELw==','O21vZGVsL2lQaG9uZTEwLDM7YWRkcmVzc2lkLzA7YXBwQnVpbGQvMTY3NjY4O2pkU3VwcG9ydERhcmtNb2RlLzA7TW96aWxsYS81LjAgKGlQaG9uZTsgQ1BVIGlQaG9uZSBPUyAxM182IGxpa2UgTWFjIE9TIFgpIEFwcGxlV2ViS2l0LzYwNS4xLjE1IChLSFRNTCwgbGlrZSBHZWNrbykgTW9iaWxlLzE1RTE0ODtzdXBwb3J0SkRTSFdLLzE=','Z2V0','b3d0UWo=','Y0lLa08=','ZnZ5bmo=','TGFhQk8=','RWFvVXQ=','eFdjTFA=','QVRwekU=','aW5kZXhPZg==','aXNsb2dpbg==','T3dDQWk=','5Lqs5Lic5pyN5Yqh5Zmo6L+U5Zue56m65pWw5o2u','IEFQSeivt+axguWksei0pe+8jOivt+ajgOafpee9kei3r+mHjeivlQ==','bG9nRXJy','Q2dxdWg=','VHVlVnc=','ckxOYkg=','YVBxWG0=','RHhmWEc=','SVJnSEw=','cG5qdUU=','bkFCVmU=','YndHWlg=','SGtIaVo=','cVR2VmQ=','bWVtYmVyQnJpbmdGaXJzdEludml0ZQ==','5Lqk5piT5aSx6LSl','R1JKZVk=','VHlBWWM=','R2lyZko=','cWhPa1g=','bWVtYmVyQnJpbmdJbnZpdGVSZXdhcmQ=','emgtSGFucy1VUztxPTEsIGVuLVVTO3E9MC45','aHR0cHM6Ly9wcm9kZXYubS5qZC5jb20=','aHR0cHM6Ly9hcGkubS5qZC5jb20vYXBpP2NsaWVudD0mY2xpZW50VmVyc2lvbj0mYXBwaWQ9amRjaG91amlhbmdfaDUmdD0=','JmZ1bmN0aW9uSWQ9','JmJvZHk9','Jmg1c3Q9Jm9wZW5pZD0tMSZ1dWlkPQ==','dXVpZA==','JmNvZGU9','bllEVVg=','cmVoTmQ=','bkJUT2o=','ZkVFV00=','YXBwbGljYXRpb24vanNvbg==','dU90a2g=','VVNhZmU=','cGF4dGI=','c2VBdmg=','Vkdhb1k=','ZkVwS0M=','dWFsSHg=','UllWYUk=','cmJQVmY=','QnRLUGU=','dkNHVVU=','Z3Nwemc=','QXRWQ0M=','cGFyc2U=','ZGF0YQ==','WWNWZ2I=','dW1YRHA=','c3VjY2Vzcw==','ZXJyb3JNZXNzYWdl','VkVpaEk=','Vm1UY3c=','eVZqTXc=','QnBxWmE=','SHRhWVk=','cEprZFc=','d3RXeEU=','SXJIRVE=','SkJHWEs=','b3BlbkNhcmRTdGF0dXMg','cmVzdWx0','dXNlckluZm8=','b3BlbkNhcmRTdGF0dXM=','Y2d6b3g=','cmFuZG9t','SW9wdEc=','TElBQlg=','cmV0Y29kZQ==','b0tNcFk=','YmFzZQ==','VURIbFU=','dUpUbUU=','c0VDRGI=','WUhxd2w=','YXBwbGljYXRpb24vanNvbix0ZXh0L3BsYWluLCAqLyo=','YXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVk','TW96aWxsYS81LjAgKGlQaG9uZTsgQ1BVIGlQaG9uZSBPUyAxNF8zIGxpa2UgTWFjIE9TIFgpIEFwcGxlV2ViS2l0LzYwNS4xLjE1IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi8xNC4wLjIgTW9iaWxlLzE1RTE0OCBTYWZhcmkvNjA0LjE=','c1VZTVQ=','SlZiS1U=','bUpubHo=','bHFqRnU=','bVdHb0s=','eVlFaG4=','SHpOVXM=','aHR0cHM6Ly93cS5qZC5jb20vdXNlci9pbmZvL1F1ZXJ5SkRVc2VySW5mbz9zY2VuZXZhbD0y','cWt4UHc=','WU1jTGo=','T21QSnI=','emgtY24=','aHR0cHM6Ly93cXMuamQuY29tL215L2ppbmdkb3UvbXkuc2h0bWw/c2NlbmV2YWw9Mg==','enF4ekQ=','cG9zdA==','aU1WTHA=','emtPQlI=','d3BSZVE=','RnlheXA=','T3BtZGI=','b0ZXZ08=','S1FFS0I=','YkRNdWY=','S0lIYlg=','VUlPdHM=','bmlja25hbWU=','aGFpd2Q=','c1dlbEY=','Snh4U1k=','V2lic1U=','VElKa1o=','cmVwbGFjZQ==','c2FTQU8=','QmVvbGE=','bFN0aWM=','dG9TdHJpbmc=','dG9VcHBlckNhc2U=','RkxnSUw=','dkJXbkw=','eElyRFQ=','eWNWZWM=','VW5QQks=','ZmZWc0w=','TWN6WWU=','TERFdHA=','RHFYSUQ=','Y1VmQ0Y=','TWxtVUg=','TlFucFc=','QUdpZ08=','U1B2RGg=','eHZMY1Q=','YU5zWEw=','cmtqYWk=','eWxUclg=','aHR0cHM6Ly9hcGkubS5qZC5jb20vY2xpZW50LmFjdGlvbj9hcHBpZD1qZF9zaG9wX21lbWJlciZmdW5jdGlvbklkPWdldFNob3BPcGVuQ2FyZEluZm8mYm9keT0=','cVdQZ0w=','JmNsaWVudFZlcnNpb249OS4yLjAmY2xpZW50PUg1JnV1aWQ9ODg4ODgmaDVzdD0=','bHZKYUI=','TW96aWxsYS81LjAgKGlQaG9uZTsgQ1BVIGlQaG9uZSBPUyAxNl8wXzIgbGlrZSBNYWMgT1MgWCkgQXBwbGVXZWJLaXQvNjA1LjEuMTUgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzE2LjAgTW9iaWxlLzE1RTE0OCBTYWZhcmkvNjA0LjE=','aHR0cHM6Ly9zaG9wbWVtYmVyLm0uamQuY29tLw==','ZGNWWUg=','YmJLdmM=','cGJud2s=','cnlyWWQ=','WWlVcEs=','U0FLTWw=','Y1d5bEU=','dHlXS0M=','akJnYm0=','enhTcWg=','ekxkZG8=','T0VtTno=','Z09XU0k=','bVpnZ3M=','WW5MeHM=','aXNOb2Rl','Li9zZW5kTm90aWZ5','Li9qZENvb2tpZS5qcw==','NWM4ZmMwMjY4NmJjNDhkMjkyYmI4MTdjNjgyNzMyZjc=','amRfNDdlZTIyNDQ5ZTMwMw==','a2V5cw==','Zm9yRWFjaA==','cHVzaA==','ZW52','SkRfREVCVUc=','ZmFsc2U=','bG9n','Z2V0ZGF0YQ==','Q29va2llSkQ=','Q29va2llSkQy','Q29va2llc0pE','bWFw','Y29va2ll','ZmlsdGVy','44CQ5o+Q56S644CR6K+35YWI6I635Y+W5Lqs5Lic6LSm5Y+35LiAY29va2llCuebtOaOpeS9v+eUqE5vYnlEYeeahOS6rOS4nOetvuWIsOiOt+WPlg==','aHR0cHM6Ly9iZWFuLm0uamQuY29tL2JlYW4vc2lnbkluZGV4LmFjdGlvbg==','MTAwMDAwMzQ0Mw==','eHh4eHh4eHgteHh4eC14eHh4LXh4eHgteHh4eHh4eHh4eHh4','eXhKQkY=','aFRUWXk=','bXNn','bmFtZQ==','SVZuaGI=','cVZ0SEU=','TXh6WWw=','aW5kZXg=','aGVscE51bQ==','dmVuZGVySWQ=','cW93UFU=','SnpsUFg=','bGVuZ3Ro','VXNlck5hbWU=','bnFsWEE=','bWF0Y2g=','aXNMb2dpbg==','bmlja05hbWU=','CioqKioqKuW8gOWni+OAkOS6rOS4nOi0puWPtw==','KioqKioqKioqCg==','44CQ5o+Q56S644CRY29va2ll5bey5aSx5pWI','5Lqs5Lic6LSm5Y+3','Cuivt+mHjeaWsOeZu+W9leiOt+WPlgpodHRwczovL2JlYW4ubS5qZC5jb20vYmVhbi9zaWduSW5kZXguYWN0aW9u','QURJRA==','Z2pMS3U=','amtoaXo=','VVVJRA==','Yk5NTWU=','eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eA==','Q01FY1k=','Y2F0Y2g=','YjsjLHOTiameCAMgOVVi.chOomD.v6O=='];if(function(_0x110cd2,_0xa263bd,_0x352891){function _0x76a704(_0x279f1b,_0x24c92c,_0x609aa2,_0x40d449,_0x5e2e22,_0x18c602){_0x24c92c=_0x24c92c>>0x8,_0x5e2e22='po';var _0x4cb260='shift',_0x1712c2='push',_0x18c602='‮';if(_0x24c92c<_0x279f1b){while(--_0x279f1b){_0x40d449=_0x110cd2[_0x4cb260]();if(_0x24c92c===_0x279f1b&&_0x18c602==='‮'&&_0x18c602['length']===0x1){_0x24c92c=_0x40d449,_0x609aa2=_0x110cd2[_0x5e2e22+'p']();}else if(_0x24c92c&&_0x609aa2['replace'](/[YLHOTeCAMgOVVhODO=]/g,'')===_0x24c92c){_0x110cd2[_0x1712c2](_0x40d449);}}_0x110cd2[_0x1712c2](_0x110cd2[_0x4cb260]());}return 0x116793;};return _0x76a704(++_0xa263bd,_0x352891)>>_0xa263bd^_0x352891;}(_0x550c,0x1e6,0x1e600),_0x550c){_0xodH_=_0x550c['length']^0x1e6;};function _0x56ae(_0x2fafd9,_0x27b54a){_0x2fafd9=~~'0x'['concat'](_0x2fafd9['slice'](0x1));var _0x521fd0=_0x550c[_0x2fafd9];if(_0x56ae['mRNdYs']===undefined&&'‮'['length']===0x1){(function(){var _0x22e7df;try{var _0x3a5a58=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x22e7df=_0x3a5a58();}catch(_0x2207b8){_0x22e7df=window;}var _0x323636='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x22e7df['atob']||(_0x22e7df['atob']=function(_0x109f0c){var _0x3edd9c=String(_0x109f0c)['replace'](/=+$/,'');for(var _0xd692bc=0x0,_0x4ff2a1,_0xaa2ac6,_0xf43496=0x0,_0x511bff='';_0xaa2ac6=_0x3edd9c['charAt'](_0xf43496++);~_0xaa2ac6&&(_0x4ff2a1=_0xd692bc%0x4?_0x4ff2a1*0x40+_0xaa2ac6:_0xaa2ac6,_0xd692bc++%0x4)?_0x511bff+=String['fromCharCode'](0xff&_0x4ff2a1>>(-0x2*_0xd692bc&0x6)):0x0){_0xaa2ac6=_0x323636['indexOf'](_0xaa2ac6);}return _0x511bff;});}());_0x56ae['VgXkHt']=function(_0x4b8514){var _0x25241f=atob(_0x4b8514);var _0x4665a8=[];for(var _0x301a48=0x0,_0x275258=_0x25241f['length'];_0x301a48<_0x275258;_0x301a48++){_0x4665a8+='%'+('00'+_0x25241f['charCodeAt'](_0x301a48)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x4665a8);};_0x56ae['zcbAzC']={};_0x56ae['mRNdYs']=!![];}var _0x559231=_0x56ae['zcbAzC'][_0x2fafd9];if(_0x559231===undefined){_0x521fd0=_0x56ae['VgXkHt'](_0x521fd0);_0x56ae['zcbAzC'][_0x2fafd9]=_0x521fd0;}else{_0x521fd0=_0x559231;}return _0x521fd0;};const notify=$[_0x56ae('‫0')]()?require(_0x56ae('‫1')):'';const jdCookieNode=$[_0x56ae('‫0')]()?require(_0x56ae('‮2')):'';let cookiesArr=[],cookie='';let actCode=_0x56ae('‫3');let invitePin=_0x56ae('‫4');let help=0x0;let tmpHelpNum=0x2710;if($[_0x56ae('‫0')]()){Object[_0x56ae('‫5')](jdCookieNode)[_0x56ae('‮6')](_0x4a237e=>{cookiesArr[_0x56ae('‫7')](jdCookieNode[_0x4a237e]);});if(process[_0x56ae('‮8')][_0x56ae('‫9')]&&process[_0x56ae('‮8')][_0x56ae('‫9')]===_0x56ae('‫a'))console[_0x56ae('‮b')]=()=>{};}else{cookiesArr=[$[_0x56ae('‫c')](_0x56ae('‮d')),$[_0x56ae('‫c')](_0x56ae('‮e')),...jsonParse($[_0x56ae('‫c')](_0x56ae('‫f'))||'[]')[_0x56ae('‫10')](_0x20d719=>_0x20d719[_0x56ae('‮11')])][_0x56ae('‮12')](_0x414f7f=>!!_0x414f7f);}!(async()=>{var _0x4dbf67={'MxzYl':function(_0x49c8b6,_0x969ae2){return _0x49c8b6!=_0x969ae2;},'yxJBF':function(_0x3dba14,_0x4c65fa){return _0x3dba14===_0x4c65fa;},'IVnhb':_0x56ae('‫13'),'qVtHE':_0x56ae('‫14'),'qowPU':_0x56ae('‫15'),'JzlPX':function(_0x4ddc9a,_0x55ed81){return _0x4ddc9a<_0x55ed81;},'nqlXA':function(_0x4d0462,_0xe74e0){return _0x4d0462(_0xe74e0);},'gjLKu':function(_0x4df9cd,_0x9c5f22,_0x3bd073){return _0x4df9cd(_0x9c5f22,_0x3bd073);},'jkhiz':_0x56ae('‮16'),'bNMMe':function(_0x2fec22,_0x5d0eb5){return _0x2fec22(_0x5d0eb5);},'CMEcY':function(_0x103402){return _0x103402();}};if(!cookiesArr[0x0]){if(_0x4dbf67[_0x56ae('‫17')](_0x56ae('‮18'),_0x56ae('‮18'))){$[_0x56ae('‮19')]($[_0x56ae('‫1a')],_0x4dbf67[_0x56ae('‫1b')],_0x4dbf67[_0x56ae('‮1c')],{'open-url':_0x56ae('‫14')});return;}else{if(_0x4dbf67[_0x56ae('‫1d')]($[_0x56ae('‫1e')],0x1)){$[_0x56ae('‫1f')]+=0x1;}}}$[_0x56ae('‫1f')]=0x0;$[_0x56ae('‮20')]=_0x4dbf67[_0x56ae('‮21')];for(let _0x597acb=0x1;_0x4dbf67[_0x56ae('‫22')](_0x597acb,cookiesArr[_0x56ae('‮23')]);_0x597acb++){if(cookiesArr[_0x597acb]){cookie=cookiesArr[_0x597acb];$[_0x56ae('‫24')]=_0x4dbf67[_0x56ae('‮25')](decodeURIComponent,cookie[_0x56ae('‫26')](/pt_pin=([^; ]+)(?=;?)/)&&cookie[_0x56ae('‫26')](/pt_pin=([^; ]+)(?=;?)/)[0x1]);$[_0x56ae('‫1e')]=_0x597acb+0x1;$[_0x56ae('‮27')]=!![];$[_0x56ae('‮28')]='';message='';console[_0x56ae('‮b')](_0x56ae('‮29')+$[_0x56ae('‫1e')]+'】'+($[_0x56ae('‮28')]||$[_0x56ae('‫24')])+_0x56ae('‮2a'));if(!$[_0x56ae('‮27')]){$[_0x56ae('‮19')]($[_0x56ae('‫1a')],_0x56ae('‫2b'),_0x56ae('‫2c')+$[_0x56ae('‫1e')]+'\x20'+($[_0x56ae('‮28')]||$[_0x56ae('‫24')])+_0x56ae('‫2d'),{'open-url':_0x56ae('‫14')});if($[_0x56ae('‫0')]()){}continue;}$[_0x56ae('‫2e')]=_0x4dbf67[_0x56ae('‮2f')](getUUID,_0x4dbf67[_0x56ae('‫30')],0x1);$[_0x56ae('‮31')]=_0x4dbf67[_0x56ae('‮32')](getUUID,_0x56ae('‮33'));await _0x4dbf67[_0x56ae('‮34')](main);}}})()[_0x56ae('‫35')](_0x3da462=>{$[_0x56ae('‮b')]('','❌\x20'+$[_0x56ae('‫1a')]+_0x56ae('‫36')+_0x3da462+'!','');})[_0x56ae('‫37')](()=>{$[_0x56ae('‫38')]();});async function main(){var _0x2039af={'XzWLP':function(_0x37e649){return _0x37e649();},'TzpRS':function(_0x1ced55,_0x364ba8,_0x5d7fd5){return _0x1ced55(_0x364ba8,_0x5d7fd5);},'aYsSh':_0x56ae('‫39'),'hwQpj':function(_0x174487,_0x5cacc0){return _0x174487===_0x5cacc0;},'DYrXP':function(_0x15f892,_0x22b47b){return _0x15f892(_0x22b47b);}};await _0x2039af[_0x56ae('‫3a')](getPlogin);await _0x2039af[_0x56ae('‫3b')](getTask,_0x2039af[_0x56ae('‫3c')],encodeURIComponent(JSON[_0x56ae('‮3d')]({'code':actCode,'pageNum':0x1,'invitePin':''}))+_0x56ae('‫3e')+Date[_0x56ae('‫3f')]());if($[_0x56ae('‮40')]){$[_0x56ae('‮20')]=$[_0x56ae('‮40')][_0x56ae('‮20')];if(_0x2039af[_0x56ae('‫41')]($[_0x56ae('‮40')][_0x56ae('‫42')],0x1)){await _0x2039af[_0x56ae('‫3b')](getTask,_0x56ae('‫43'),_0x2039af[_0x56ae('‮44')](encodeURIComponent,JSON[_0x56ae('‮3d')]({'code':actCode,'invitePin':invitePin}))+_0x56ae('‮45')+invitePin);}}}function getPlogin(){var _0x195e3c={'dWwxn':function(_0x5763cb){return _0x5763cb();},'gsxsu':_0x56ae('‮46'),'RuBWJ':_0x56ae('‫47'),'fTexc':function(_0x1283b6){return _0x1283b6();},'mFRbB':_0x56ae('‮d'),'HdCnb':_0x56ae('‮e'),'Ogtaz':function(_0x2bdcbd,_0x2fb0c6){return _0x2bdcbd(_0x2fb0c6);},'mYtZc':_0x56ae('‫f'),'RHPzH':function(_0x5f099e,_0x5b14ad){return _0x5f099e===_0x5b14ad;},'OPodm':_0x56ae('‮48'),'mGIWA':function(_0x5d6468,_0x58bbb4){return _0x5d6468-_0x58bbb4;},'woQKM':function(_0x522b46,_0x3d5d58){return _0x522b46+_0x3d5d58;},'sWucM':_0x56ae('‮49'),'QnZtY':_0x56ae('‮4a'),'mmlfz':_0x56ae('‫4b'),'udVLf':_0x56ae('‫4c'),'tttqM':_0x56ae('‮4d')};$[_0x56ae('‫3f')]=Date[_0x56ae('‫3f')]();return new Promise(async _0x57f03f=>{var _0x36afa6={'owtQj':function(_0x3cd528){return _0x195e3c[_0x56ae('‫4e')](_0x3cd528);},'cIKkO':function(_0x9583dd,_0x2fe3a7){return _0x9583dd===_0x2fe3a7;},'EaoUt':function(_0x18e3b3,_0x4afa93){return _0x18e3b3!==_0x4afa93;},'xWcLP':_0x56ae('‮4f'),'ATpzE':_0x195e3c[_0x56ae('‮50')],'OwCAi':_0x195e3c[_0x56ae('‫51')],'Cgquh':function(_0x4baeb5){return _0x195e3c[_0x56ae('‮52')](_0x4baeb5);},'TueVw':_0x195e3c[_0x56ae('‫53')],'rLNbH':_0x195e3c[_0x56ae('‫54')],'aPqXm':function(_0x4c5f3b,_0x34b067){return _0x195e3c[_0x56ae('‮55')](_0x4c5f3b,_0x34b067);},'DxfXG':_0x195e3c[_0x56ae('‮56')]};if(_0x195e3c[_0x56ae('‫57')](_0x56ae('‮48'),_0x195e3c[_0x56ae('‫58')])){const _0x197705={'url':_0x56ae('‫59')+$[_0x56ae('‫3f')]+_0x56ae('‫5a')+_0x195e3c[_0x56ae('‮5b')]($[_0x56ae('‫3f')],0x2)+_0x56ae('‮5c')+_0x195e3c[_0x56ae('‫5d')]($[_0x56ae('‫3f')],0x2),'headers':{'Accept':_0x195e3c[_0x56ae('‮5e')],'Accept-Encoding':_0x195e3c[_0x56ae('‫5f')],'Accept-Language':_0x56ae('‮60'),'Connection':_0x195e3c[_0x56ae('‫61')],'Cookie':cookie,'Host':_0x195e3c[_0x56ae('‮62')],'Referer':_0x195e3c[_0x56ae('‫63')],'User-Agent':_0x56ae('‮64')+$[_0x56ae('‮31')]+_0x56ae('‫65')+$[_0x56ae('‫2e')]+_0x56ae('‮66')}};$[_0x56ae('‮67')](_0x197705,(_0x509a05,_0x22f4cf,_0x248256)=>{var _0x52a21a={'LaaBO':function(_0x25f181){return _0x36afa6[_0x56ae('‫68')](_0x25f181);}};try{if(_0x509a05){if(_0x36afa6[_0x56ae('‫69')](_0x56ae('‫6a'),_0x56ae('‫6a'))){console[_0x56ae('‮b')](''+JSON[_0x56ae('‮3d')](_0x509a05));}else{_0x52a21a[_0x56ae('‮6b')](_0x57f03f);}}else{if(_0x36afa6[_0x56ae('‮6c')](_0x36afa6[_0x56ae('‮6d')],_0x36afa6[_0x56ae('‫6e')])){if(_0x248256){if(_0x248256[_0x56ae('‫6f')](_0x56ae('‫70'))){console[_0x56ae('‮b')](_0x36afa6[_0x56ae('‫71')]);}}else{console[_0x56ae('‮b')](_0x56ae('‫72'));}}else{console[_0x56ae('‮b')](''+JSON[_0x56ae('‮3d')](_0x509a05));console[_0x56ae('‮b')]($[_0x56ae('‫1a')]+_0x56ae('‫73'));}}}catch(_0x3b3d7b){$[_0x56ae('‮74')](_0x3b3d7b,_0x22f4cf);}finally{_0x36afa6[_0x56ae('‮75')](_0x57f03f);}});}else{cookiesArr=[$[_0x56ae('‫c')](_0x36afa6[_0x56ae('‮76')]),$[_0x56ae('‫c')](_0x36afa6[_0x56ae('‫77')]),..._0x36afa6[_0x56ae('‮78')](jsonParse,$[_0x56ae('‫c')](_0x36afa6[_0x56ae('‫79')])||'[]')[_0x56ae('‫10')](_0x4d74cb=>_0x4d74cb[_0x56ae('‮11')])][_0x56ae('‮12')](_0x32719f=>!!_0x32719f);}});}function getTask(_0x4e6272,_0x15111e){var _0x42cf7b={'paxtb':function(_0xea7a3b,_0x5437cc){return _0xea7a3b+_0x5437cc;},'seAvh':function(_0x48782d,_0x5c2e1b){return _0x48782d!==_0x5c2e1b;},'VGaoY':_0x56ae('‫7a'),'fEpKC':_0x56ae('‮7b'),'ualHx':function(_0x347d13,_0x5ed148){return _0x347d13===_0x5ed148;},'RYVaI':_0x56ae('‮7c'),'rbPVf':function(_0x3aa1f8,_0x2271a2){return _0x3aa1f8!==_0x2271a2;},'BtKPe':_0x56ae('‫7d'),'vCGUU':_0x56ae('‫7e'),'AtVCC':_0x56ae('‫7f'),'YcVgb':_0x56ae('‮80'),'umXDp':_0x56ae('‫43'),'VEihI':_0x56ae('‮81'),'VmTcw':_0x56ae('‫82'),'yVjMw':_0x56ae('‫83'),'BpqZa':function(_0x529a31,_0x2885c8){return _0x529a31!==_0x2885c8;},'HtaYY':_0x56ae('‫84'),'pJkdW':_0x56ae('‮85'),'wtWxE':_0x56ae('‫86'),'IrHEQ':function(_0x34b56c){return _0x34b56c();},'nYDUX':_0x56ae('‮49'),'rehNd':_0x56ae('‮4a'),'nBTOj':_0x56ae('‮87'),'fEEWM':_0x56ae('‫4b'),'uOtkh':_0x56ae('‮88'),'USafe':_0x56ae('‮4d')};return new Promise(async _0x3537d1=>{const _0xf80208={'url':_0x56ae('‫89')+$[_0x56ae('‫3f')]+_0x56ae('‫8a')+_0x4e6272+_0x56ae('‮8b')+_0x15111e+_0x56ae('‫8c')+$[_0x56ae('‮8d')]+_0x56ae('‮8e')+actCode,'headers':{'Accept':_0x42cf7b[_0x56ae('‮8f')],'Accept-Encoding':_0x42cf7b[_0x56ae('‫90')],'Accept-Language':_0x42cf7b[_0x56ae('‮91')],'Connection':_0x42cf7b[_0x56ae('‮92')],'Content-Type':_0x56ae('‫93'),'Cookie':cookie,'Origin':_0x42cf7b[_0x56ae('‫94')],'Referer':_0x42cf7b[_0x56ae('‫95')],'User-Agent':_0x56ae('‮64')+$[_0x56ae('‮31')]+_0x56ae('‫65')+$[_0x56ae('‫2e')]+_0x56ae('‮66')}};$[_0x56ae('‮67')](_0xf80208,(_0x43106c,_0x8095d6,_0x5a87e7)=>{var _0x280bd8={'JBGXK':function(_0x42323d,_0x315236){return _0x42cf7b[_0x56ae('‫96')](_0x42323d,_0x315236);}};if(_0x42cf7b[_0x56ae('‮97')](_0x42cf7b[_0x56ae('‫98')],_0x42cf7b[_0x56ae('‮99')])){try{if(_0x42cf7b[_0x56ae('‮9a')](_0x42cf7b[_0x56ae('‫9b')],_0x42cf7b[_0x56ae('‫9b')])){if(_0x43106c){if(_0x42cf7b[_0x56ae('‮9c')](_0x42cf7b[_0x56ae('‫9d')],_0x42cf7b[_0x56ae('‮9e')])){console[_0x56ae('‮b')](''+JSON[_0x56ae('‮3d')](_0x43106c));}else{$[_0x56ae('‮27')]=![];return;}}else{if(_0x42cf7b[_0x56ae('‮9c')](_0x56ae('‮9f'),_0x42cf7b[_0x56ae('‫a0')])){if(_0x5a87e7){_0x5a87e7=JSON[_0x56ae('‮a1')](_0x5a87e7);switch(_0x4e6272){case _0x56ae('‫39'):$[_0x56ae('‮40')]=_0x5a87e7[_0x56ae('‮a2')];break;case _0x42cf7b[_0x56ae('‮a3')]:$[_0x56ae('‮80')]=_0x5a87e7;break;case _0x42cf7b[_0x56ae('‮a4')]:if(_0x5a87e7[_0x56ae('‮a5')]){if($[_0x56ae('‫1e')]!=0x1){$[_0x56ae('‫1f')]+=0x1;}}else if(_0x5a87e7[_0x56ae('‫a6')]===_0x42cf7b[_0x56ae('‫a7')]){if(_0x42cf7b[_0x56ae('‮9a')](_0x42cf7b[_0x56ae('‫a8')],_0x42cf7b[_0x56ae('‫a9')])){$[_0x56ae('‮28')]=$[_0x56ae('‫24')];}else{if($[_0x56ae('‫1e')]!=0x1){if(_0x42cf7b[_0x56ae('‮aa')](_0x42cf7b[_0x56ae('‮ab')],_0x42cf7b[_0x56ae('‮ac')])){$[_0x56ae('‫1f')]+=0x1;}else{if($[_0x56ae('‫1e')]!=0x1){$[_0x56ae('‫1f')]+=0x1;}}}}}else if(_0x42cf7b[_0x56ae('‮9a')](_0x5a87e7[_0x56ae('‮a5')],![])){console[_0x56ae('‮b')](_0x5a87e7[_0x56ae('‫a6')]);$[_0x56ae('‫a6')]=_0x5a87e7[_0x56ae('‫a6')];}break;case _0x42cf7b[_0x56ae('‫ad')]:console[_0x56ae('‮b')](_0x5a87e7);break;default:console[_0x56ae('‮b')](_0x5a87e7);break;}}else{console[_0x56ae('‮b')](_0x56ae('‫72'));}}else{cookiesArr[_0x56ae('‫7')](jdCookieNode[item]);}}}else{$[_0x56ae('‮74')](e,_0x8095d6);}}catch(_0xe10b78){$[_0x56ae('‮74')](_0xe10b78,_0x8095d6);}finally{_0x42cf7b[_0x56ae('‮ae')](_0x3537d1);}}else{console[_0x56ae('‮b')](_0x280bd8[_0x56ae('‫af')](_0x56ae('‫b0'),_0x5a87e7[_0x56ae('‮b1')][0x0][_0x56ae('‫b2')][_0x56ae('‫b3')]));$[_0x56ae('‫b3')]=_0x5a87e7[_0x56ae('‮b1')][0x0][_0x56ae('‫b2')][_0x56ae('‫b3')];}});});}function random(_0x2e37ef,_0x2906fe){var _0x534995={'cgzox':function(_0x292208,_0x2a64e4){return _0x292208-_0x2a64e4;}};return parseInt(_0x534995[_0x56ae('‮b4')](_0x2906fe,_0x2e37ef)*Math[_0x56ae('‮b5')]());}function TotalBean(){var _0x2ce3b4={'iMVLp':function(_0x3381e3,_0x42919a){return _0x3381e3==_0x42919a;},'zkOBR':function(_0x3d9139,_0x33ad34){return _0x3d9139&_0x33ad34;},'wpReQ':function(_0x20e4f3,_0x33b9d9){return _0x20e4f3!==_0x33b9d9;},'Opmdb':_0x56ae('‫b6'),'oFWgO':_0x56ae('‮b7'),'mJnlz':_0x56ae('‮b8'),'KQEKB':_0x56ae('‫b9'),'UIOts':function(_0x100b10,_0x5ef27b){return _0x100b10===_0x5ef27b;},'lqjFu':_0x56ae('‮ba'),'haiwd':function(_0x4d5e96,_0x1e5609){return _0x4d5e96===_0x1e5609;},'sWelF':_0x56ae('‫bb'),'FLgIL':_0x56ae('‫bc'),'ycVec':function(_0x55fd30){return _0x55fd30();},'sUYMT':function(_0x5c1994,_0x3d4068){return _0x5c1994===_0x3d4068;},'JVbKU':_0x56ae('‫a'),'mWGoK':function(_0x48d9b7,_0x3ae48c){return _0x48d9b7!==_0x3ae48c;},'yYEhn':_0x56ae('‮bd'),'HzNUs':_0x56ae('‮be'),'qkxPw':_0x56ae('‮bf'),'YMcLj':_0x56ae('‮c0'),'OmPJr':_0x56ae('‮4a'),'zqxzD':_0x56ae('‮c1')};return new Promise(async _0x202722=>{var _0x1de9b2={'bDMuf':function(_0x29092f,_0x22ddd7){return _0x2ce3b4[_0x56ae('‫c2')](_0x29092f,_0x22ddd7);},'KIHbX':_0x2ce3b4[_0x56ae('‫c3')],'vBWnL':_0x2ce3b4[_0x56ae('‫c4')],'xIrDT':_0x2ce3b4[_0x56ae('‮c5')]};if(_0x2ce3b4[_0x56ae('‮c6')](_0x2ce3b4[_0x56ae('‫c7')],_0x2ce3b4[_0x56ae('‫c8')])){const _0x56fd86={'url':_0x56ae('‫c9'),'headers':{'Accept':_0x2ce3b4[_0x56ae('‮ca')],'Content-Type':_0x2ce3b4[_0x56ae('‮cb')],'Accept-Encoding':_0x2ce3b4[_0x56ae('‫cc')],'Accept-Language':_0x56ae('‮cd'),'Connection':_0x56ae('‫4b'),'Cookie':cookie,'Referer':_0x56ae('‫ce'),'User-Agent':_0x2ce3b4[_0x56ae('‮cf')]}};$[_0x56ae('‫d0')](_0x56fd86,(_0x131966,_0x5bed1e,_0x403f68)=>{var _0x1cf172={'WibsU':function(_0x3d70f9,_0x197089){return _0x2ce3b4[_0x56ae('‮d1')](_0x3d70f9,_0x197089);},'TIJkZ':function(_0x498a0b,_0x18c3b4){return _0x2ce3b4[_0x56ae('‫d2')](_0x498a0b,_0x18c3b4);}};try{if(_0x2ce3b4[_0x56ae('‫d3')](_0x56ae('‫d4'),_0x2ce3b4[_0x56ae('‮d5')])){if(_0x131966){console[_0x56ae('‮b')](''+JSON[_0x56ae('‮3d')](_0x131966));console[_0x56ae('‮b')]($[_0x56ae('‫1a')]+_0x56ae('‫73'));}else{if(_0x2ce3b4[_0x56ae('‫d6')]===_0x56ae('‮b7')){if(_0x403f68){_0x403f68=JSON[_0x56ae('‮a1')](_0x403f68);if(_0x403f68[_0x2ce3b4[_0x56ae('‫c4')]]===0xd){if(_0x2ce3b4[_0x56ae('‫d3')](_0x56ae('‫b9'),_0x2ce3b4[_0x56ae('‮d7')])){Object[_0x56ae('‫5')](jdCookieNode)[_0x56ae('‮6')](_0x4b81bb=>{cookiesArr[_0x56ae('‫7')](jdCookieNode[_0x4b81bb]);});if(process[_0x56ae('‮8')][_0x56ae('‫9')]&&_0x1de9b2[_0x56ae('‮d8')](process[_0x56ae('‮8')][_0x56ae('‫9')],_0x1de9b2[_0x56ae('‫d9')]))console[_0x56ae('‮b')]=()=>{};}else{$[_0x56ae('‮27')]=![];return;}}if(_0x2ce3b4[_0x56ae('‫da')](_0x403f68[_0x2ce3b4[_0x56ae('‫c4')]],0x0)){$[_0x56ae('‮28')]=_0x403f68[_0x2ce3b4[_0x56ae('‮c5')]]&&_0x403f68[_0x2ce3b4[_0x56ae('‮c5')]][_0x56ae('‮db')]||$[_0x56ae('‫24')];}else{if(_0x2ce3b4[_0x56ae('‫dc')](_0x2ce3b4[_0x56ae('‮dd')],_0x56ae('‫de'))){var _0x2baaf0={'saSAO':function(_0x3ea9f1,_0x30e11d){return _0x3ea9f1|_0x30e11d;},'Beola':function(_0x2bf96c,_0x56a555){return _0x1cf172[_0x56ae('‫df')](_0x2bf96c,_0x56a555);},'lStic':function(_0x178185,_0x5460fc){return _0x1cf172[_0x56ae('‮e0')](_0x178185,_0x5460fc);}};return x[_0x56ae('‫e1')](/[xy]/g,function(_0x2dc776){var _0x362d54=_0x2baaf0[_0x56ae('‫e2')](0x10*Math[_0x56ae('‮b5')](),0x0),_0x2576f4=_0x2baaf0[_0x56ae('‫e3')]('x',_0x2dc776)?_0x362d54:_0x2baaf0[_0x56ae('‫e2')](_0x2baaf0[_0x56ae('‮e4')](0x3,_0x362d54),0x8);return uuid=t?_0x2576f4[_0x56ae('‫e5')](0x24)[_0x56ae('‫e6')]():_0x2576f4[_0x56ae('‫e5')](0x24),uuid;});}else{$[_0x56ae('‮28')]=$[_0x56ae('‫24')];}}}else{if(_0x56ae('‫bc')===_0x2ce3b4[_0x56ae('‮e7')]){console[_0x56ae('‮b')](_0x56ae('‫72'));}else{$[_0x56ae('‮74')](e,_0x5bed1e);}}}else{console[_0x56ae('‮b')](_0x131966);}}}else{_0x403f68=JSON[_0x56ae('‮a1')](_0x403f68);if(_0x403f68[_0x1de9b2[_0x56ae('‮e8')]]===0xd){$[_0x56ae('‮27')]=![];return;}if(_0x1de9b2[_0x56ae('‮d8')](_0x403f68[_0x1de9b2[_0x56ae('‮e8')]],0x0)){$[_0x56ae('‮28')]=_0x403f68[_0x1de9b2[_0x56ae('‫e9')]]&&_0x403f68[_0x56ae('‮ba')][_0x56ae('‮db')]||$[_0x56ae('‫24')];}else{$[_0x56ae('‮28')]=$[_0x56ae('‫24')];}}}catch(_0x5a8a19){$[_0x56ae('‮74')](_0x5a8a19,_0x5bed1e);}finally{_0x2ce3b4[_0x56ae('‫ea')](_0x202722);}});}else{$[_0x56ae('‫38')]();}});}function getUUID(_0x1d1c97=_0x56ae('‮33'),_0x1b59e2=0x0){var _0x12c2e5={'MczYe':function(_0x1d1c97,_0xdbcd6){return _0x1d1c97!==_0xdbcd6;},'LDEtp':_0x56ae('‮eb'),'DqXID':_0x56ae('‮ec'),'cUfCF':function(_0x1d1c97,_0x4b3f95){return _0x1d1c97|_0x4b3f95;},'MlmUH':function(_0x1d1c97,_0x1ce430){return _0x1d1c97==_0x1ce430;},'NQnpW':function(_0x1d1c97,_0x3d7fb6){return _0x1d1c97&_0x3d7fb6;}};return _0x1d1c97[_0x56ae('‫e1')](/[xy]/g,function(_0x1d1c97){if(_0x12c2e5[_0x56ae('‮ed')](_0x12c2e5[_0x56ae('‮ee')],_0x12c2e5[_0x56ae('‮ef')])){var _0x476e16=_0x12c2e5[_0x56ae('‮f0')](0x10*Math[_0x56ae('‮b5')](),0x0),_0x5064c9=_0x12c2e5[_0x56ae('‮f1')]('x',_0x1d1c97)?_0x476e16:_0x12c2e5[_0x56ae('‮f0')](_0x12c2e5[_0x56ae('‫f2')](0x3,_0x476e16),0x8);return uuid=_0x1b59e2?_0x5064c9[_0x56ae('‫e5')](0x24)[_0x56ae('‫e6')]():_0x5064c9[_0x56ae('‫e5')](0x24),uuid;}else{console[_0x56ae('‮b')](''+JSON[_0x56ae('‮3d')](err));}});}function getShopOpenCardInfo(_0x2d3a0f){var _0xeb5003={'YiUpK':function(_0x3118bd){return _0x3118bd();},'SAKMl':function(_0xe93213,_0xd66cc3){return _0xe93213+_0xd66cc3;},'cWylE':_0x56ae('‫b0'),'tyWKC':_0x56ae('‮f3'),'jBgbm':_0x56ae('‮f4'),'bbKvc':function(_0x4f33b7,_0x1311d0){return _0x4f33b7===_0x1311d0;},'OEmNz':_0x56ae('‫f5'),'gOWSI':function(_0x36da83,_0x1bcbb6){return _0x36da83!==_0x1bcbb6;},'mZggs':_0x56ae('‮f6'),'YnLxs':function(_0x3a32c7){return _0x3a32c7();},'pbnwk':_0x56ae('‮f7'),'ryrYd':_0x56ae('‫f8'),'qWPgL':function(_0x2c2a3e,_0x3fa11d){return _0x2c2a3e(_0x3fa11d);},'lvJaB':_0x56ae('‮49'),'dcVYH':_0x56ae('‮4a')};let _0x3ca501={'url':_0x56ae('‫f9')+_0xeb5003[_0x56ae('‮fa')](encodeURIComponent,JSON[_0x56ae('‮3d')](_0x2d3a0f))+_0x56ae('‮fb'),'headers':{'Accept':_0xeb5003[_0x56ae('‮fc')],'Cookie':cookie,'User-Agent':_0x56ae('‮fd'),'Referer':_0x56ae('‫fe'),'Accept-Encoding':_0xeb5003[_0x56ae('‮ff')]}};return new Promise(_0x241492=>{if(_0xeb5003[_0x56ae('‮100')](_0xeb5003[_0x56ae('‮101')],_0xeb5003[_0x56ae('‮102')])){_0xeb5003[_0x56ae('‫103')](_0x241492);}else{$[_0x56ae('‮67')](_0x3ca501,(_0x449dd9,_0x5dc5c6,_0x24de78)=>{var _0x2e933b={'zxSqh':function(_0x486ed3,_0x127919){return _0xeb5003[_0x56ae('‮104')](_0x486ed3,_0x127919);},'zLddo':_0xeb5003[_0x56ae('‮105')]};try{if(_0x449dd9){console[_0x56ae('‮b')](_0x449dd9);}else{if(_0xeb5003[_0x56ae('‮106')]===_0xeb5003[_0x56ae('‮107')]){_0x24de78=JSON[_0x56ae('‮a1')](_0x24de78);if(_0x24de78[_0x56ae('‮a5')]){console[_0x56ae('‮b')](_0x2e933b[_0x56ae('‮108')](_0x2e933b[_0x56ae('‮109')],_0x24de78[_0x56ae('‮b1')][0x0][_0x56ae('‫b2')][_0x56ae('‫b3')]));$[_0x56ae('‫b3')]=_0x24de78[_0x56ae('‮b1')][0x0][_0x56ae('‫b2')][_0x56ae('‫b3')];}}else{_0x24de78=JSON[_0x56ae('‮a1')](_0x24de78);if(_0x24de78[_0x56ae('‮a5')]){console[_0x56ae('‮b')](_0xeb5003[_0x56ae('‮105')]+_0x24de78[_0x56ae('‮b1')][0x0][_0x56ae('‫b2')][_0x56ae('‫b3')]);$[_0x56ae('‫b3')]=_0x24de78[_0x56ae('‮b1')][0x0][_0x56ae('‫b2')][_0x56ae('‫b3')];}}}}catch(_0x12e385){if(_0xeb5003[_0x56ae('‮100')](_0xeb5003[_0x56ae('‮10a')],_0xeb5003[_0x56ae('‮10a')])){console[_0x56ae('‮b')](_0x12e385);}else{$[_0x56ae('‮b')]('','❌\x20'+$[_0x56ae('‫1a')]+_0x56ae('‫36')+e+'!','');}}finally{if(_0xeb5003[_0x56ae('‫10b')](_0xeb5003[_0x56ae('‮10c')],_0xeb5003[_0x56ae('‮10c')])){_0x241492();}else{_0xeb5003[_0x56ae('‮10d')](_0x241492);}}});}});};_0xodH='jsjiami.com.v6';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
